{"version":3,"file":"wordpress/wp-content/themes/hagukumu.co.jp/assets/main.js","mappings":";;;;;;;;;;;;;;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAXA;AAaA;;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAfA;AAiBA;AACA;;AA1CA;;;;;;;;;;;;;;;;ACFA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAGA;AACA;AACA;;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;;AAEA;AACA;AACA;AACA;AAHA;;AAMA;AACA;AACA;AACA;AAHA;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AAAA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AAHA;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AApLA;;;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AALA;AAOA;AAVA;AAaA;;AAfA;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;AA9BA;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;AAEA;AACA;AACA;;;;;;;;;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;;AAGA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAjCA;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAjBA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AClBA","sources":["webpack://hagukumu/./src/js/FadeInScroll.js","webpack://hagukumu/./src/js/HomeSlide.js","webpack://hagukumu/./src/js/Modal.js","webpack://hagukumu/./src/js/Tab.js","webpack://hagukumu/./src/js/common/config.js","webpack://hagukumu/./src/js/common/utils/isMobileSize.js","webpack://hagukumu/./src/js/mobileMenu.js","webpack://hagukumu/./src/js/semiModal.js","webpack://hagukumu/webpack/bootstrap","webpack://hagukumu/webpack/runtime/define property getters","webpack://hagukumu/webpack/runtime/hasOwnProperty shorthand","webpack://hagukumu/webpack/runtime/make namespace object","webpack://hagukumu/./src/js/main.js","webpack://hagukumu/./src/scss/main.scss?2323"],"sourcesContent":["const DURATION = 1.5;\n\nclass FaceInScroll {\n  constructor() {\n    // 普通のやつ\n    gsap.utils.toArray(\".js-fade-in-scroll\").forEach((elm) => {\n      ScrollTrigger.create({\n        trigger: elm,\n        once: true,\n        start: \"top-=100px center\",\n        // markers: true,\n        onEnter: () => {\n          gsap.to(elm, {\n            autoAlpha: 1,\n            y: 0,\n            duration: DURATION,\n          });\n        },\n      });\n    });\n\n    // リスト\n    gsap.utils.toArray(\".js-fade-in-scroll-ul\").forEach((elm) => {\n      const delay = elm.dataset.delay ? Number(elm.dataset.delay) : 0.2;\n      const delayMax = elm.dataset.delayMax ? Number(elm.dataset.delayMax) : 3;\n\n      ScrollTrigger.create({\n        trigger: elm,\n        once: true,\n        start: \"top-=100px center\",\n        // markers: true,\n        onEnter: () => {\n          const $list = elm.querySelectorAll(\".js-fade-in-scroll-li\");\n          gsap.utils.toArray($list).forEach((elm2, index) => {\n            gsap.to(elm2, {\n              autoAlpha: 1,\n              y: 0,\n              duration: DURATION,\n              delay: Math.min(delayMax, index * delay),\n            });\n          });\n        },\n      });\n    });\n  }\n}\n\nexport { FaceInScroll };\n","gsap.registerPlugin(SplitText);\n\nconst unescapeHtml = (target) => {\n  if (typeof target !== \"string\") return target;\n\n  const patterns = {\n    \"&lt;\": \"<\",\n    \"&gt;\": \">\",\n    \"&amp;\": \"&\",\n    \"&quot;\": '\"',\n    \"&#x27;\": \"'\",\n    \"&#x60;\": \"`\",\n  };\n\n  return target.replace(/&(lt|gt|amp|quot|#x27|#x60);/g, (match) => {\n    return patterns[match];\n  });\n};\n\nclass HomeSlide {\n  constructor() {\n    this.active = 0;\n    this.disabled = false;\n    this.$hero = document.querySelector(\"#top_hero\");\n    if (this.$hero && window.homeSlide && window.homeSlide.length) {\n      this.$nav = this.$hero.querySelectorAll(\".js-nav\")[0];\n      this.$comments = this.$hero.querySelectorAll(\".js-comments\")[0];\n      this.$reference = this.$hero.querySelectorAll(\".js-reference\")[0];\n      this.$image = this.$hero.querySelectorAll(\".js-slide-image\")[0];\n\n      this.loadImage().then(() => {\n        this.renderNav();\n        this.eventBindNav();\n        this.navActive();\n        this.renderComments();\n        this.renderImage();\n        this.commentsAnim();\n        this.renderReference();\n      });\n    }\n  }\n\n  loadImage() {\n    const imageUrl = window.homeSlide[this.active].image;\n    return new Promise((resolve, reject) => {\n      if (!imageUrl) resolve(\"\");\n      const image = new Image();\n      image.addEventListener(\"load\", () => {\n        resolve(imageUrl);\n      });\n      image.addEventListener(\"error\", (error) => {\n        reject(error);\n      });\n      image.src = imageUrl;\n    });\n  }\n\n  renderNav() {\n    let navHtml = \"\";\n    window.homeSlide.forEach((slide, index) => {\n      navHtml += `\n<button class=\"p-top-hero__bar\" type=\"button\">\n<span class=\"u-visually-hidden\">${index + 1}</span>\n</button>\n`;\n    });\n    this.$nav.innerHTML = navHtml;\n  }\n\n  navActive() {\n    gsap.utils\n      .toArray(this.$nav.querySelectorAll(\"button\"))\n      .forEach((elm, index) => {\n        elm.setAttribute(\"aria-current\", this.active === index);\n      });\n  }\n\n  eventBindNav() {\n    gsap.utils\n      .toArray(this.$nav.querySelectorAll(\"button\"))\n      .forEach((elm, index) => {\n        elm.addEventListener(\"click\", () => {\n          if (index === this.active || this.disabled) return;\n          this.setActive(index);\n          this.next();\n        });\n      });\n  }\n\n  setActive(index) {\n    this.active = index % window.homeSlide.length;\n  }\n\n  next() {\n    if (this.timerId) {\n      clearTimeout(this.timerId);\n    }\n    this.navActive();\n    this.loadImage().then(() => {\n      this.renderImage();\n      this.renderComments();\n      this.commentsAnim();\n      this.renderReference();\n    });\n  }\n\n  renderComments() {\n    const slide = window.homeSlide[this.active];\n    let commentsHtml = \"\";\n    slide.comments.forEach((comment) => {\n      commentsHtml += `\n<div class=\"js-comment\">${unescapeHtml(comment.text)}</div>\n      `;\n    });\n    this.$comments.innerHTML = commentsHtml;\n  }\n\n  renderImage() {\n    const imageUrl = window.homeSlide[this.active].image;\n    if (imageUrl) {\n      this.$image.innerHTML = `\n      <img src=\"${imageUrl}\" alt=\"\" style=\"opacity: 0;\" />\n      `;\n    } else {\n      this.$image.innerHTML = \"\";\n    }\n  }\n\n  commentsAnim() {\n    if (this.tl) {\n      this.tl.kill();\n    }\n    this.tl = gsap.timeline({\n      onComplete: () => {\n        this.timerId = setTimeout(() => {\n          this.disabled = true;\n          this.commentsLeaveAnim();\n        }, 3000);\n      },\n    });\n    gsap.utils\n      .toArray(this.$comments.querySelectorAll(\".js-comment\"))\n      .forEach((elm, index) => {\n        const splitText = new SplitText(elm);\n        const chars = splitText.chars;\n        this.tl.from(chars, {\n          opacity: 0,\n          ease: \"power0.easeNone\",\n          stagger: 0.08,\n          duration: 0.8,\n          delay: index === 0 ? 0 : 0.8,\n        });\n      });\n    // 参照の表示\n    this.tl.to(this.$reference, {\n      opacity: 1,\n      ease: \"power0.easeNone\",\n      duration: 1,\n    });\n    // 背景画像の表示\n    gsap.to(this.$image.querySelector(\"img\"), {\n      opacity: 1,\n      ease: \"power0.easeNone\",\n      duration: 1,\n    });\n  }\n\n  commentsLeaveAnim() {\n    gsap.to(this.$comments.querySelectorAll(\".js-comment\"), {\n      opacity: 0,\n      ease: \"power0.easeNone\",\n      onComplete: () => {\n        setTimeout(() => {\n          this.setActive(this.active + 1);\n          this.next();\n          this.disabled = false;\n        }, 1000);\n      },\n    });\n    gsap.to(this.$reference, { opacity: 0, ease: \"power0.easeNone\" });\n    // 背景画像\n    gsap.to(this.$image.querySelector(\"img\"), {\n      opacity: 0,\n      ease: \"power0.easeNone\",\n      duration: 1,\n    });\n  }\n\n  renderReference() {\n    this.$reference.classList.remove(\"-show\");\n    setTimeout(() => {\n      const reference = window.homeSlide[this.active][\"reference\"];\n      const html = `\n  <a class=\"p-top-hero__link\" href=\"${reference.url}\">\n  ${unescapeHtml(reference.text)}\n  </a>\n  `;\n      this.$reference.innerHTML = html;\n    }, 500);\n  }\n}\n\nexport { HomeSlide };\n","class Modal {\n  constructor() {\n    $(\".js-modal\").magnificPopup({\n      type: \"inline\",\n      midClick: true,\n      gallery: {\n        enabled: true,\n        arrowMarkup:\n          '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\">%title%</button>',\n        tPrev: \"Back\",\n        tNext: \"Next\",\n      },\n      closeMarkup:\n        '<button title=\"%title%\" type=\"button\" class=\"mfp-close\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10 10.9053L1.11111 19.7942C0.973936 19.9314 0.823045 20 0.658436 20C0.493827 20 0.342936 19.9314 0.205761 19.7942C0.0685871 19.6571 0 19.5062 0 19.3416C0 19.177 0.0685871 19.0261 0.205761 18.8889L9.09465 10L0.205761 1.11111C0.0685871 0.973936 0 0.823045 0 0.658436C0 0.493827 0.0685871 0.342936 0.205761 0.205761C0.342936 0.0685871 0.493827 0 0.658436 0C0.823045 0 0.973936 0.0685871 1.11111 0.205761L10 9.09465L18.8889 0.205761C19.0261 0.0685871 19.177 0 19.3416 0C19.5062 0 19.6571 0.0685871 19.7942 0.205761C19.9314 0.342936 20 0.493827 20 0.658436C20 0.823045 19.9314 0.973936 19.7942 1.11111L10.9053 10L19.7942 18.8889C19.9314 19.0261 20 19.177 20 19.3416C20 19.5062 19.9314 19.6571 19.7942 19.7942C19.6571 19.9314 19.5062 20 19.3416 20C19.177 20 19.0261 19.9314 18.8889 19.7942L10 10.9053Z\" fill=\"white\"/></svg>閉じる</button>',\n    });\n  }\n}\n\nexport { Modal };\n","class Tab {\n  constructor() {\n    this.tabAll = document.querySelector(\"#all\");\n    this.tab = document.querySelectorAll('input[name=\"tab\"]');\n    this.tagList = document.querySelector(\".p-service-header__tag-list\");\n    this.currentValue = \"\";\n\n    this.initialize();\n    this.update();\n  }\n\n  initialize() {\n    if (!this.tabAll) return;\n    this.tabAll.checked = true;\n    this.currentValue = this.tabAll.value;\n    this.tagList.hidden = false;\n  }\n\n  update() {\n    this.tab.forEach((r) =>\n      r.addEventListener(\"change\", (e) => {\n        this.currentValue = e.target.value;\n\n        if (this.currentValue !== \"value1\") {\n          this.tagList.hidden = true;\n        } else {\n          this.tagList.hidden = false;\n        }\n      })\n    );\n  }\n}\n\nexport { Tab };\n","export const MOBILE_WIDTH = 768;\n","import { MOBILE_WIDTH } from \"../config\";\n\nexport const isMobileSize = () => {\n  return window.innerWidth <= MOBILE_WIDTH;\n};\n","import { isMobileSize } from \"./common/utils/isMobileSize\";\n\nclass MobileMenu {\n  constructor() {\n    this.button = document.querySelector('[aria-label=\"メイン\"] button');\n    this.menu = this.button.nextElementSibling;\n\n    //リサイズハンドリング\n    window.addEventListener(\"resize\", this.initialize.bind(this));\n\n    //初回アップデート\n    this.initialize();\n    this.update();\n  }\n\n  initialize() {\n    if (!isMobileSize()) {\n      this.button.removeAttribute(\"aria-expanded\");\n      this.button.hidden = true;\n      this.menu.hidden = false;\n      return;\n    }\n\n    this.button.setAttribute(\"aria-expanded\", \"false\");\n    this.button.hidden = false;\n    this.menu.hidden = true;\n  }\n\n  update() {\n    this.button.addEventListener(\"click\", function () {\n      // メニューの表示／非表示を切り替える\n      const expanded = this.getAttribute(\"aria-expanded\") === \"true\";\n      this.setAttribute(\"aria-expanded\", String(!expanded));\n      this.nextElementSibling.hidden = expanded;\n    });\n  }\n}\n\nexport { MobileMenu };\n","class semiModal {\n  constructor() {\n    this.openButton = document.querySelector(\".js-open-modal\");\n    this.closeButton = document.querySelector(\".js-close-modal\");\n    this.dialog = document.querySelector(\"dialog\");\n\n    if (!this.openButton) return;\n\n    this.openButton.addEventListener(\"click\", () => {\n      if (typeof this.dialog.showModal === \"function\") {\n        this.dialog.showModal();\n      }\n    });\n\n    this.closeButton.addEventListener(\"click\", () => {\n      this.dialog.close();\n    });\n  }\n}\n\nexport { semiModal };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { MobileMenu } from \"./mobileMenu\";\nimport { Modal } from \"./Modal\";\nimport { Tab } from \"./Tab\";\nimport { semiModal } from \"./semiModal\";\nimport { FaceInScroll } from \"./FadeInScroll\";\nimport { HomeSlide } from \"./HomeSlide\";\n\nconst init = () => {\n  new MobileMenu();\n  new Modal();\n  new Tab();\n  new semiModal();\n  new FaceInScroll();\n  new HomeSlide();\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  init();\n});\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":[],"sourceRoot":""}